<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-24502736-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-24502736-2');
</script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=320, initial-scale=1">
  <title>Psalm Tone Tool</title>
  <link rel="icon" href="icon/clear-main.png" type="image/png" />
  <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/mkhgaijffgijgkolifpoaijimncdakkd" />
  <link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.10.3.custom.min.css" />
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="style.css" />
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,700,700i&text=:;,()[]?.%22'%E2%80%A0*QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnmáéíóúýäëæǽœœ%CC%81/1234567890-" rel="stylesheet">
  <script src="jquery.min.js" type="text/javascript"></script>
  <script src="jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
  <script src="js/Tone.min.js"></script>
  <script src="js/tones.js"></script>
  <script src="util.js" type="text/javascript"></script>
  <script src="psalmtone.js" type="text/javascript"></script>
  <script src="jszip.js" async type="text/javascript"></script>
  <script src="FileSaver.min.js"></script>
  <script src="jquery.hypher.js"></script>
  <script src="patterns/la-hypher.js"></script>
  <script src="psalmtone.html.js"></script>
  <script src="exsurge.min.js"></script>
  <!-- <script src="jszip-deflate.js" async type="text/javascript"></script>-->
</head>
<body class='sans' style='padding:8px'>
<style>
table.bordered {
  width:100%;
}
table {
  border-collapse:collapse;
}
td{
  padding-left:4px;
  padding-right:4px;
}
tr.bordered>td {
  vertical-align:top;
  border-width:1px;
  border-style:solid;
}
#chant-parent2.noeditor{
  height: 100%!important;
  width: 100%!important;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
}
#chant-parent2 .when-no-editor {
  display: none;
}
#chant-parent2.noeditor .when-no-editor {
  display: block;
}
#chant-parent2{
  width:10.3in;
  max-width:100%;
  margin:auto;
  height:100%;
}
#chant-parent{
  border:1px solid #aaa;
  overflow-y:auto;
  height:100%;
}
#chant-pad{
  padding:0 0.1in;
}
#chant-preview,#verses{
  margin:0.1in auto auto;
}
#verses{
  width:100%;
  font-family:'Crimson Text';
  font-size:18px
}
textarea{
  padding:0px;
}
.tap{
  padding-right:2px;
}
@media print {
  #chant-parent {
    border: 0;
    overflow-y: visible;
  }
  #chant-parent2{
    height: 100%!important;
  }
}
</style>
<form id="pdfForm" target="_blank" method="get" action="https://www.sourceandsummit.com/editor/legacy/">
  <!--<input type='hidden' name='pdf' value='1'/>-->
  <input type='hidden' name='crop' value='0'/>
</form>
<form id="pdfFormDirect" target="_blank" method="post" action="https://www.sourceandsummit.com/editor/legacy/process.php">
  <input type="hidden" id="pdff_gabc" name="gabc[]"/>
  <input type="hidden" id="pdff_width" name="width" value="7.5"/>
  <input type="hidden" id="pdff_height" name="height" value="11"/>
  <input type="hidden" id="pdff_croppdf" name="croppdf" value="false"/>
  <input type="hidden" id="pdff_spacing" value="vichi" name="spacing"/>
  <input type="hidden" id="pdff_font" value="GaramondPremierPro" name="font"/>
  <input type="hidden" id="pdff_fontsize" value="20" name="fontsize"/>
  <input type="hidden" id="pdff_fmt" name="fmt" value="pdf"/>
</form>
<div class="hide-print">
<div style="width:100%;margin-bottom:5px">
  <ul class="nav nav-pills" style="display: inline-block;">
    <li role="presentation"><a href="transcriber.html">GABC Transcription Tool</a></li>
    <li role="presentation" class="active"><a href="psalmtone.html">Psalm Tone Tool</a></li>
    <li role="presentation"><a href="readings.html">Readings Tool</a></li>
    <li role="presentation"><a href="propers.html">Propers Tool</a></li>
    <li role="presentation"><a href="faq.html">(About)</a></li>
  </ul>
  <div style="float:right;margin-left:8px" class="btn-group hide-ss" role="group">
    <a class='btn btn-xs btn-primary' href='#' id='lnkPdfDirect'>PDF</a>
    <a class='btn btn-xs btn-default' href='#' id='lnkPdf'>Further PDF options</a>
  </div>
</div>
<table class="bordered"><tr class="bordered"><td><label for="selTones">Tone: </label><select id="selTones"></select><select id="selEnd"></select><input type="checkbox" id="cbSolemn" name="solemn"/><label for="cbSolemn">Solemn Tone</label>
<input type="button" id="btnDelTone" value="Delete Current Tone"/><input type="button" id="btnNewTone" value="Create New Tone"/><br/>
<label for="txtClef">Clef: </label><input type="text" id="txtClef" style="width:18pt"/><br/>
<label for="versegabc" title="Text of the psalm">Psalm GABC</label><br/><div class="tap"><textarea id="versegabc" spellcheck="false" style="height: 24pt; width: 100%;">g hj jr 'k jr jr 'ih j.&#10;j jr h 'j jr ih..</textarea></div>
Mediant of <span id="sMedAccent"></span> accent<span id="sMedAccentS">s</span><span id="sMedPrepOuter"> with <span id="sMedPrep"></span> preparatory syllable<span id="sMedPrepS">s</span></span>
<br/>Termination of <span id="sTermAccent"></span> accent<span id="sTermAccentS">s</span><span id="sTermPrepOuter"> with <span id="sTermPrep"></span> preparatory syllable<span id="sTermPrepS">s</span></span>
</td><td><label for="selPsalm">Psalm </label><select id="selPsalm"></select>
  <input type="checkbox" id="cbEnglish"/><label for="cbEnglish">English</label>
  <input type="checkbox" id="cbUseNovaVulgata"/><label for="cbUseNovaVulgata">Use Nova Vulgata psalms</label>
  <input type="checkbox" id="cbIncludeGloriaPatri"/><label for="cbIncludeGloriaPatri">Include Glória Patri</label><br/><div class="tap"><textarea id="versetext" lang="latin" style="height: 96pt; width: 100%;"></textarea></div>
</td></tr>
<tr class="bordered">
  <td>
    <label for="selFormat" title="Select a 'gabc' format to format all verses using gabc.&#10;New formats can be created with the 'Create New Format' button, and all formats can be edited using the panel to the right.">Format verses as: </label><select id="selFormat"></select><input type="button" id="btnDelFormat" value="Delete Current Format"/><input type="button" id="btnNewFormat" value="Create New Format"/><br/>
    <input type="checkbox" checked id="cbFirstVerseGabc"/><label for="cbFirstVerseGabc" id="lblFirstVerseGabc" title="Use GABC for first verse instead of ...">GABC for first verse</label><br/>
    <input type="checkbox" id="cbInitStyle"/><label for="cbInitStyle" title="Use large drop cap for first verse, and ommit verse prefix on first verse.">Use large initial</label><br/>
    <input type="checkbox" id="cbOnlyVowels"/><label for="cbOnlyVowels" title="Only apply the formatting to the vowel rather than to the entire syllable, and only to first of any preparatory syllables rather than to all preparatory syllables.">Only format vowels</label><br/>
    <input type="checkbox" id="cbUsePunctaCava"/><label for="cbUsePunctaCava" title="Use a punctum cavum wherever a variable number of notes will be present depending on the specific verse.">Use puncta cava</label><br/>
    <input type="checkbox" id="cbRepeatIntonation"/><label for="cbRepeatIntonation" title="Repeat the intonation in each verse rather than just in the first verse (only affects the gabc output)">Repeat intonation</label><br/>
    <label for="txtGabcFlex" title="Text to use at the flex if not a simple dagger (†)">Dagger Text:</label>&nbsp;<input type="text" id="txtGabcFlex"/><br/>
    <label for="txtGabcStar" title="Text to use at the mediant if not a simple asterisk (*)">Asterisk Text:</label>&nbsp;<input type="text" id="txtGabcStar"/>
  </td>
  <td style="border-left-style:solid;">
    <table class="">
      <tr>
        <td><label for="txtBeginPrep" title="This text will be added just before each preparatory syllable.">Begin Preparatory Syllable:</label></td>
        <td><input type="text" id="txtBeginPrep"/></td>
        <td style="padding-left:12pt;"><label for="txtEndPrep" title="This text will be added just after each preparatory syllable.">End Preparatory Syllable:</label></td>
        <td><input type="text" id="txtEndPrep"/></td>
      </tr>
      <tr>
        <td><label for="txtBeginAccented" title="This text will be added just before each accented syllable that figures in the mediant/termination.">Begin Accented Syllable:</label></td>
        <td><input type="text" id="txtBeginAccented"/></td>
        <td style="padding-left:12pt;"><label for="txtEndAccented" title="This text will be added just after each accented syllable that figures in the mediant/termination.">End Accented Syllable:</label></td>
        <td><input type="text" id="txtEndAccented"/></td>
      </tr>
      <tr>
        <td><label for="txtBeginFlexAccented" title="This text will be added just before each accented syllable immediately before a flex.&#10;&#10;Hoc est ex*émplum; †">Begin Flex Accented Syllable:</label></td>
        <td><input type="text" id="txtBeginFlexAccented"/></td>
        <td style="padding-left:12pt;"><label for="txtEndFlexAccented" title="This text will be added just after each accented syllable immediately before a flex.&#10;&#10;Hoc est exém*plum; †">End Flex Accented Syllable:</label></td>
        <td><input type="text" id="txtEndFlexAccented"/></td>
      </tr>
      <tr>
        <td><label for="txtBeginFlex" title="This text will be added just before a syllable immediately following the last accented syllable before a flex.&#10;&#10;Hoc est exém*plum; †">Begin Flex Syllable:</label></td>
        <td><input type="text" id="txtBeginFlex"/></td>
        <td style="padding-left:12pt;"><label for="txtEndFlex" title="This text will be added just after any syllable immediately before a flex.&#10;&#10;Hoc est exémplum*; †">End Flex Syllable:</label></td>
        <td><input type="text" id="txtEndFlex"/></td>
      </tr>
      <tr>
        <td><label for="txtPrefix" title="Inserted before every verse.&#10;$c will be replaced by the verse number.&#10;&#10;If commas are present, it will cycle through each prefix in the comma separated list, e.g., '1,2,3' -> '1,2,3,1,2,etc.'">Verse Prefix:</label></td>
        <td><input type="text" id="txtPrefix"/></td>
        <td style="padding-left:12pt;"><label for="txtSuffix" title="Inserted after every verse.&#10;$c will be replaced by the verse number.">Verse Suffix:</label></td>
        <td><input type="text" id="txtSuffix"/></td>
      </tr>
      <tr>
        <td><label for="txtNbsp" title="Used before : * and † so that lines won't be broken up with one of these characters starting the line.">Non-breaking space:</label></td>
        <td><input type="text" id="txtNbsp"/></td>
        <td style="padding-left:12pt;"><label for="txtVersesName" title="Name of the verses file in Chrome when dragging the link to a file explorer window.  $psalm will be replaced with the psalm number (or Magnificat, etc.) and $tone will be replaced with the tone (e.g., 8gstar).">Verses Filename:</label></td>
        <td><input type="text" id="txtVersesFilename"/></td>
      </tr>
      <tr>
        <td><label for="txtAnnotation" title="This text will be added to the annotation field to show info such as the mode.">Annotation:</label></td>
        <td><input type="text" id="txtAnnotation"/></td>
        <td style="padding-left:12pt;" title="This text will be added to the user-notes field to show info such as the Psalm number."><label for="txtUserNotes">User Notes:</label></td>
        <td><input type="text" id="txtUserNotes"/></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<div class="tap"><label for="txtGabc" title="You can put GABC headers in this text box if you want them included in the GABC file download link below.  Any headers you type in will persist in local storage between sessions.">GABC</label><br/><textarea id="txtGabc" spellcheck="false" style="height: 64px; width: 100%;"></textarea></div>
<div style='margin:0.5em;'>
  <a href="#" id="lnkDownloadGabc" draggable target="_blank">Download GABC</a>&nbsp;&nbsp;<a href="#" id="lnkDownloadVerses" draggable target="_blank">Download Verses</a>
  &nbsp;&nbsp;<a href="#" id="lnkDownloadAll" draggable>Download ZIP of all psalms in each tone</a><span id="spnProgressZip"></span>&nbsp;<a href="#" id="lnkCancelZip" style="display:none">Cancel</a>&nbsp;<a href="#noeditor" id="lnkHideEditor">Hide Editor</a>
</div>
</div>
<div id="chant-parent2">
  <div class='when-no-editor'><a href="#editor">Show Editor</a></div>
  <div id="chant-parent">
    <div id="chant-pad">
      <div id="chant-preview"></div>
      <div id="verses"></div>
    </div>
  </div>
</div>
  <svg class="bg-blur">
  <defs>
    <filter id="text-glow" x="-100%" y="-100%" width="300%" height="300%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="5 5" result="glow"/>
      <feFlood flood-color="#337ab7" result="COLOR" />
      <feComposite in="COLOR" in2="glow" operator="in" result="glow-color" />
      <feMerge>
        <feMergeNode in="glow-color"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="note-glow" x="-150%" y="-150%" width="400%" height="400%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="5 5" result="glow"/>
      <feFlood flood-color="#337ab7" result="COLOR" />
      <feComposite in="COLOR" in2="glow" operator="in" result="glow-color" />
      <feMerge>
        <feMergeNode in="glow-color"/>
        <feMergeNode in="glow-color"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  </svg>
</body>
</html>