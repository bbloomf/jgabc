<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>GABC Transcription and Psalm Tone Tool FAQ</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
<style>
body {
  font-family:Verdana,Helvetica,sans-serif;
}
div.columns {
  column-width:8in;
  column-gap: 1em;
  column-rule: thin solid gray;
}
div.question {
  font-weight:700;
  margin-top:1em;
}
p {
  margin-top:0;
}
body{
  max-width: 8in;
  margin:auto;
}
</style>
</head>
<body>
<div><a href="javascript:history.back()">Back</a></div>
<h1>FAQ (Frequently Anticipated Questions)</h1>
<div class="columns">
<div class="question">What is this for?</div>
<div class="answer">This is three separate tools to aid in the transcription of chant into GABC notation, and a fourth which only deals with chants that have already been transcribed.  The first is called the "<a href="#transcription">GABC Transcription Tool</a>" and the second is called the "<a href="#psalmtone">Psalm Tone Tool</a>" and they will be dealt with separately below.  The others are the "<a href="#readings">Readings Tool</a>" and the "<a href="#propers">Propers Tool</a>".</div>
<div class="question">Who wrote it, and why?</div>
<div class="answer">My name is Benjamin Bloomfield, and the schola that I sing with in Cincinnati, Ohio began chanting Vespers every Sunday in Lent of 2010, but not all of us have a Liber Usualis to sing from, so we were making copies of the chant and pointed psalms from the Liber Usualis every week.  I thought about retypesetting things with <a href='https://gregorio-project.github.io/'>Gregorio</a> and <a href='https://en.wikipedia.org/wiki/TeX'>TeX</a>, but one of the problems was that formatting the text of the psalms with certain syllables in bold and italic is both tedious and error-prone when done by hand.  While chanting Vespers one Sunday in January 2011, I realized that it would be relatively simple to write a computer program to automatically break apart a Latin text into syllables, and (as long as the accents are already marked) apply a psalm tone to it or mark certain syllables as bold or italic.  In the process of writing this Psalm Tone Tool, it became obvious that it would also be advantageous to split apart Latin into its syllables simply to prevent having to type so many parentheses, and thus the GABC Transcription Tool was born.  I put together the Readings Tool after my dad (a permanent deacon) had asked about chanting a specific Gospel in English.  The Propers Tool, I wrote more recently (in 2013) at the suggestion of one of my brothers.</div>
<div class="question">What about the graphical representation of the chant?</div>
<div class="answer">I had begun a project in May 2010, thinking it would be simple to render GABC into a webpage, but abandoned it later in the year, half-finished.  When I wrote these tools, it was a natural fit to use what I already had half-working in order to allow for a graphical preview of the chant, and actually using this code for something provided additional inspiration for getting it to work better, because it is annoying whenever it displays something incorrectly, and thus I have improved much in the rendering of the chant preview since writing the transcription tool.  Some of the tools use the <a href="https://github.com/frmatthew/exsurge">Exsurge</a> library by Father Matthew Spencer.</div>
<div class="question">Can I have a look at the source code?</div>
<div class="answer">Sure.  It is hosted at Github, <a href="https://github.com/bbloomf/jgabc">here</a>.</div>
<div class="question">Have any of these questions really been frequently asked?</div>
<div class="answer">One or two of them may have been asked by a real person, but certainly not frequently.</div>
<div class="question">Is there any way of running this while not connected to the Internet?</div>
<div class="answer">Yes, as long as you use Chrome on the desktop, or an Android phone or iPhone/iPad.  You can get the Chrome Web App version <a href='https://chrome.google.com/webstore/detail/mkhgaijffgijgkolifpoaijimncdakkd'>here</a> and it will work whether you are connected to the Internet or not, and there is an Android App available <a href='https://play.google.com/store/apps/details?id=io.github.bbloomf.jgabc'>here</a>.  The iPhone/iPad version is available <a href='https://itunes.apple.com/us/app/chant-tools/id1225329409?ls=1&mt=8'>here</a>.</div>
<div class="question">Would you like any of my money as a way of thanking you for putting these tools together?</div>
<div class="answer">Not really, but if you insist, you can <a href="https://donorbox.org/gabc-tools">send me a donation</a>.</div>
<div class="question">What about for the iPhone version?  Doesn't Apple charge you to join their developer program?</div>
<div class="answer">Yes, they charge $99+tax every year for anyone to be in their developer program, which is required to list apps in their App Store.  If you'd like to contribute to keeping the iPhone version available, please click <a href="https://donorbox.org/chant-tools-for-iphone">here</a>, and thank you for your support.</div>
<h2 id="transcription"><a href="transcriber.html">GABC Transcription Tool</a></h2>
<div class="question">What is the GABC Transcription Tool?</div>
<div class="answer">It is a tool to allow you to enter GABC notation without having to mark the syllable breaks, and without having to use so many parentheses.  It is also useful for transcribing chants that have repetitive melodies over different texts, such as hymns.</div>
<div class="question">What does it do exactly?</div>
<div class="answer"><p>It does several different things.  Its original use was simply to take a Latin text and intersperse it with parenthetic GABC notation after each syllable.  That is, it takes the two separate texts, "c e g g" and "Adoro te", and produces: "A(c)do(e)ro(g) te(g)" thus saving the typing of many parentheses.</p>
  <p>For hymns, it is useful to repeat the melody over each verse.  It is also useful to have sections of melody and text, each of which repeats the melody for that section over all the text, for example with a hymn that has several verses followed by an "amen" of an entirely different melody.  This can be done by separating the sections with a line that consists entirely of two dashes: "--", or
  <blockquote><code>1. first verse text...<br/>2. second verse text<br/>--<br/>Amen.</code></blockquote> for the text and <blockquote><code>GABC for verses...<br/>--<br/>GABC for Amen</code></blockquote> for the GABC.</p>
  <p>It will not repeat the GABC for the last section, so if you have only one section and want it to repeat over all the text, you will have to enter the last line as --</p></div>
<div class="question">Will it work in reverse?</div>
<div class="answer">Yes, to some extent, although it isn't always working quite right at the moment.  If you click 'Show integrated GABC' and type into the single textbox that shows up, it will separate the text from the GABC notation if you type or paste regular GABC with the text and GABC interleaved with parentheses, and display it as chant below.</div>
<div class="question">How can elisions be marked in the text?</div>
<div class="answer">If you need to mark an elision in the text of the hymn, you can enclose the elided part of the syllable in parentheses.  You can change the behavior of elisions by checking or unchecking the "Use puncta for elisions" checkbox.  If this checkbox is checked, the elided syllable will get a punctum associated with it.  If it is unchecked, the syllable will simply be skipped when assigning GABC to each syllable.</div>
<div class="question">What can I do if it doesn't break up my word into syllables properly?</div>
<div class="answer">Right now, there is an inconsistency in the way this is handled depending on whether English is checked.  If English is checked, then you can separate syllables with an equals sign (=), but if you use one equals sign in a word, you must you it between every syllable, as it won't look that word up in the dictionary at all.  If English is not checked, you may use a hyphen (-) and if you use one hyphen, you must use it on all syllables to the left as well.  If you want to mark a word as a monosyllable, you may end the word with a hyphen (e.g., quo-)</div>
<div class="question">Are there any other features I should know about?</div>
<div class="answer">There is at least one feature that may be classified as such.  When typing into the text field, you may enter accented vowels by typing an apostrophe immediately after a vowel (e.g., e' will be converted to é)  This also works with quotation marks and diphthong ligatures, such that e" will be converted to ë and ae and oe will be converted to æ and œ.  These conversions will not be made when English is checked above the textbox, and they can be undone by pressing Backspace.  (e.g., pressing Backspace while the text cursor is immediately to the right of æ will change the æ to ae, but will not move the cursor.)</div>
<div class="question">Apropos of the aforementioned "English" checkbox, what is it, and what does it do?</div>
<div class="answer">It signifies whether the text is English, so that the syllabification can be done differently.  English syllabification is done by checking each word against a dictionary (actually by feeding them into the lyric hyphenator at <a href='http://www.juiciobrennan.com/'>this site</a>) and it only updates the local dictionary every 5 seconds, so you will sometimes have to wait for it to properly syllabify the text.</div>
<div class="question">Is there any way to hear what the chant might sound like?</div>
<div class="answer">Oh, yes.  If you click on the large initial or the first note of the chant, it will give you some options to set the starting pitch and play the chant.  If you click on a punctum, it will turn blue and give you some options.  Use the controls that display at the bottom of the screen to pause, step through, change the tempo, or stop the chant.</div>
<div class="question">Is there anything else it does that you still forgot to mention?</div>
<div class="answer">Yes, I nearly forgot.  If you click on lyrics or notes within the chant while holding down a modifier key (Ctrl, Alt, Shift, etc.), it will highlight the GABC code that maps to it.  There is also a link to generate a PDF of the chant using the web front-end to Gregorio <a href='http://editor.sourceandsummit.com/legacy/'>here</a>.  This link is in the upper right corner and is labeled, "(PDF)".  The link next to it (Further PDF Options) links to the same site, but gives you an opportunity to change settings, such as the font used, before generating the PDF.</div>
<div class="question">Is there a way to move whole groups of notes up or down?</div>
<div class="answer">Yes.  You can do this by holding down &lt;Alt> while pressing up or down.  Also, this will only happen if the GABC or Integrated GABC text field is active at the time.  If you select part of the GABC, only that part will be moved.</div>
<div class="question">What about the 'Download Integrated GABC' link?</div>
<div class="answer">Yes, I should have mentioned that.  You can click that to download the GABC file, which will be a text file containing the text in the Integrated GABC text box, which will show up if you click the "Show integrated GABC" link at the top.  From Chrome, you can drag this link onto an explorer window, and it will name the .gabc file with the value of the name field in the header, if you have edited the GABC header.</div>
</div>
<div class="question">And the other 'Download' links?</div>
<div class="answer">Oh yes, these are rather recent additions.  These allow you to download an <abbr title="Scalable Vector Graphic">SVG</abbr> (unlimited resolution) or <abbr title="Portable Network Graphic">PNG</abbr> (limited resolution) versions of the chant.  These versions will be identical to the preview displayed on the page, and use the <a href="https://github.com/frmatthew/exsurge">Exsurge</a> library rather than <a href='https://gregorio-project.github.io/'>Gregorio</a> to render the chant, which means that some GABC code is not supported (e.g., translations).  If you hold down &lt;Ctrl> (&lt;command> on Mac) while clicking the "Download PNG" link, it will download a separate PNG for each system.  Also, you can set the width of the PNG/SVG by adding a line to the GABC header such as <code>%width: 5in;</code> or <code>%width: 16cm;</code>.  You can also set the DPI for the PNG file by adding a line to the header such as <code>%dpi: 600;</code>.  Note that the default DPI is 300.</div>
<div class="question">Are there any other header settings that will affect these SVG and PNG exports?</div>
<div class="answer">Yes.  You can change the font used with <code>%font-family: Helvetica;</code> or <code>%drop-cap-font-family: Times New Roman;</code>.  In addition to <code>drop-cap</code>, you can also set <code>lyric</code> and <code>annotation</code> styles individually.  The color of these texts can also be set, e.g., <code>%drop-cap-text-color: red;</code> will make the large initial red.  <code>%staff-line-color: red;</code> will set the staff lines red.</div>
</div>
<h2 id="psalmtone"><a href="psalmtone.html">Psalm Tone Tool</a></h2>
<div class="question">What is the Psalm Tone Tool?</div>
<div class="answer">It is a tool to aid in the transcription of psalms into GABC notation, as well as formatting the verses into HTML, TeX, or some other format.</div>
<div class="question">What Psalm edition are you using?</div>
<div class="answer">The psalms (as well as the Magnificat and Benedictus) are according to a 1961 Liber Usualis (although there may be some mistakes), with all the mediants and flexa as marked in there.</div>
<div class="question">What about the "Use Nova Vulgata psalms" checkbox?</div>
<div class="answer">Good point.  If this is checked, it will use the Nova Vulgata edition of the psalms.</div>
<div class="question">There are a lot more options in this tool than in the Transcription Tool, aren't there?</div>
<div class="answer">Yes, there are.</div>
<div class="question">Shall we go over them one by one?</div>
<div class="answer">Yes, I think that's probably the best way.</div>
<div class="question">OK.  Let's start with the upper-left quadrant of the grid at the top.  The one with the Tone dropdown.</div>
<div class="answer">Certainly.  From here, you can select the tone to use, first by selecting the tone and then the termination.  You can check the "Solemn Tone" box if you want the solemn tone.</div>
<div class="question">What about the other things in the upper-left quadrant?</div>
<div class="answer">The clef box can be used to set the position of the clef.  It will shift the chant along with the clef, so if you want to change the clef without shifting the chant, you will have to change it in the GABC box just above the preview of the chant.</div>
<div class="question">What are the rules for the Psalm GABC box just below the clef box?</div>
<div class="answer">This is just the GABC for each verse of the psalm.  The first line is the mediant, and the second line is the termination.  The neumes that belong over accented syllables are prefixed by an apostrophe and the dominant is marked as a punctum cavum, with an r.  You can store custom tones by using the "Create new tone" button, and they will be stored locally, and thus persist across sessions, but will only be available on your current computer.</div>
<div class="question">How does the format verses part work?</div>
<div class="answer"><p>This is where certain aspects of the textual part of the output can be adjusted.  If the name of the selected format has GABC in it, all verses will be output in GABC notation.  Otherwise, all but the first and sometimes second verse will be formatted text with no GABC.  Also, you can adjust the settings for the first verse by selecting GABC and changing the settings on the right side, and then selecting the format that you actually want to use for the subsequent verses.</p>
  <p>The parameters of the currently selected verse format show up on the right, "Begin Preparatory Syllable", etc. and it should be fairly obvious what they refer to.  The default format is to italicize the preparatory syllables and to bold the accented syllables.  The verse prefix is just text that gets put before each verse ($c will be replaced by the current verse number) and the verse suffix is simply put at the end of each verse.  The non-breaking space is used between a word and a flex or mediant to prevent a line break from occurring.</p>
  <p>The "Verses Filename" is used when dragging the 'Download Verses' link from Chrome (no other browsers support this) into an Explorer window as the name of the file.  It is also used by the "Download ZIP of all psalms in each tone" for the name of the verses files.  It is also applied to the name field in the header, but for this it will cut off everything after the last period as well as the period itself (e.g., $psalm-$tone.tex becomes $psalm-$tone).  Also, $psalm will be replaced with the psalm number (or Magnificat, etc.) and $tone will be replaced with the tone and termination, e.g., 8gstar or solemn8g.</p>
  </div>
<div class="question">You didn't mention the checkboxes beneath the Format verses dropdown.  What are they all about?</div>
<div class="answer"><p>"Only format vowels" will cause only the vowels of the preparatory and accented syllables to be affected rather than the entire syllable.</p>
  <p>"Use puncta cava" will cause puncta cava to be used in the chant parts of the output.</p>
  <p>"Repeat intonation" will cause the intonation to be repeated on each verse, and is automatically checked if the Magnificat or Benedictus is selected or "Solemn Tone" is checked at the top, and is automatically unchecked if a psalm is selected.</p>
</div>
<div class="question">Is there anything else I should know about the formats?</div>
<div class="answer">Yes, and it is simply this: if the format name has html in it, the verses will be rendered as html on the page, otherwise they will be rendered as text.</div>
<br/>
<h2 id="readings"><a href="readings.html">Readings Tool</a></h2>
<div class="answer">I wrote this just before Advent 2011, and made some slight modifications through January 2012.  This is not a tool that I myself need to use very often, so I am not as sure whether there are many problems with it.  The special characters (used in the Text that the tone is applied to) to control the output are as follows:
<br><br>
<b>+</b>: Causes the flex tone to be used (or a dotted punctum on the previous syllable, with a quarter bar immediately after, if no flex tone is given).
<br/><b>^</b>: Causes a dotted punctum on the previous syllable, with a quarter bar immediately after.
<br/><b>~</b> (or <b>:</b> or <b>,,</b> or <b>,</b> followed by a new line): Causes the Mediant tone to be used
<br/><b>.</b> or <b>!</b> or <b>::</b> will cause the full stop tone to be used
<br/><b>?</b> will cause the Question tone to be used.
</div>
<div class="question">Where do the tones come from?</div>
<div class="answer">The English tones come from the PDFs linked to <a href="http://www.icelweb.org/musicfolder/openmusic.php">here</a> and the Latin tones are from the Liber Usualis.</div>
<div class="question">What else do I need to know in order to set English texts to these tones?</div>
<div class="answer">First, know that the English readings are available on the USCCB website <a href="http://usccb.org/bible/readings/">here</a>.
<br/><br/>Also, the thing that's probably most tedious and important about applying tones to English texts is that accents are not marked in English and indeed are often a bit more nebulous than in Latin.  The Readings Tool assumes that the accent falls on the last word of a phrase if that word has only a single syllable, and otherwise it assumes that it falls on the penultimate syllable, but if you need to mark where the accent falls, you can put an asterisk after the syllable that should be accented, as in the example text.<br/>
<br/>To aid in this process, you can hit &lt;tab> and it will select the last three syllables of the next phrase.  Once these are selected, you can press 1, 2, or 3 to mark the first, second, or third of these as the accented syllable, and then press &lt;tab> to go on to the next phrase.</div>
<h2 id="propers"><a href="propers.html">Propers Tool</a></h2>
<div class="question">What does the Propers Tool do?</div>
<div class="answer">The Propers Tool will allow you to find the propers for a Sunday or certain feast days and votive Masses from the Liber Usualis.  It will also give you the option of applying a psalm tone to some or all of these chants and make a PDF.</div>
<div class="question">Does it support the Novus Ordo calendar as well as the traditional calendar?</div>
<div class="answer">Yes, you can click on the big button near the top to switch between the traditional calendar and the Novus Ordo.  When using the Novus Ordo calendar, it should make an educated guess about whether the current year is A, B, or C, but there is also a dropdown from which you can change which year it is using.</div>
<div class="question">Why are there extra options for the Alleluia verse?</div>
<div class="answer">For all the other propers, the only choice is <i>full tone</i> or <i>psalm toned</i>, but for an alleluia verse, there is an option for psalm toning just the psalm verse, and leaving the full tone for the alleluia antiphon.  There is another option for “à la Chants Abrégés,” which replaces the Alleluia antiphon with a simpler one from <a href='http://media.musicasacra.com/pdf/chantsabreges.pdf'>Chants Abrégés</a> but uses the same psalm toned verse, and the last option is for psalm toning even the alleluia antiphon.</div>
<div class="question">Did you transcribe all of these chants?</div>
<div class="answer">No, I didn't.  They are all from <a href="http://gregobase.selapa.net/">GregoBase</a> and were originally transcribed by Andrew Hinkley.  They are not guaranteed to be free of error, and if you do notice a mistake, you can click on the name of the Mass part (Introitus, etc.) and see the chant at its page on GregoBase and make corrections (if you understand GABC) or simply click the "Report a problem" link (if you don't know how to fix it yourself).  To do either, you would first need to register with the GregoBase site.</div>
<br/>
<div class="question">Supposing I have a question that isn't answered here?</div>
<div class="answer">You may contact me via e-mail and I will probably respond: bhb123+jgabc [at] gmail.com</div>
</div>
</body>
</html>
<div class="question"></div>
<div class="answer"></div>
